<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title data-lang-key="pageTitle">Misael Marte – Developer</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    body {
      background-color: #0d1117;
      color: #c9d1d9;
      font-family: 'Segoe UI', sans-serif;
      scroll-behavior: smooth;
      overflow-x: hidden;
    }

    /* Light Mode */
    body.light-mode {
      background: radial-gradient(black 1px, transparent 1px);
      background-size: 20px 20px;
      background-color: #ffffff;
      color: #121212;
    }

    /* Style for sun icon in light mode */
    body.light-mode #themeToggle.fa-sun {
      color: #f1c40f; /* Golden yellow */
    }
    
    #themeToggle {
      transition: color 0.3s ease;
    }

    /* Navbar in light mode */
    body.light-mode .navbar {
      background-color: #ffffff;
      border-bottom: 1px solid #dee2e6;
    }

    body.light-mode .nav-link,
    body.light-mode .navbar-icons i,
    body.light-mode .navbar-brand,
    body.light-mode .navbar-brand span,
    body.light-mode #languageToggle {
      color: #121212 !important;
    }

    /* Section background (optional) */
    body.light-mode .proyecto {
      background-color: rgba(255, 255, 255, 0.8);
    }

    /* Light footer */
    body.light-mode footer {
      background-color: #f1f1f1;
      color: #333;
    }

    /* Light modals */
    body.light-mode .modal-content {
      background-color: #ffffff;
      color: #121212;
    }
    
    body.light-mode #particles-js {
      background-color: #fff;
    }

    a {
      text-decoration: none;
    }
    
    .navbar {
      font-weight: 500;
      letter-spacing: 0.5px;
      padding-top: 0.7rem;
      padding-bottom: 0.7rem;
      z-index: 1001;
    }

    .nav-link {
      position: relative;
      color: #c9d1d9 !important;
      transition: all 0.3s ease;
    }

    .nav-link {
      color: #c9d1d9 !important;
      transition: transform 0.3s ease, color 0.3s ease;
      font-weight: 500;
      margin: 0 5px;
    }

    .nav-link:hover {
      color: #58a6ff !important;
      transform: scale(1.05);
    }
    
    .navbar-brand {
      font-weight: 600;
      font-size: 1.4rem;
      color: #7ca6ff !important;
    }

    .navbar-brand span {
      font-weight: 600;
      color: #c9d1d9;
    }
    
    .navbar-icons {
      display: flex;
      gap: 1rem;
      align-items: center;
      color: #c9d1d9;
    }

    .navbar-icons i, #languageToggle {
      font-size: 1rem;
      cursor: pointer;
      transition: transform 0.2s ease, color 0.3s ease;
      color: #c9d1d9; /* Ensure color is set for consistency */
    }

    .navbar-icons i:hover, #languageToggle:hover {
      color: #58a6ff;
      transform: translateY(-3px) rotate(-10deg);
    }
    
    body.light .hero {
      background-color: #f5f5f5;
    }
    body.light .btn-primary {
      background-color: #0d6efd;
    }

    .hero {
      height: 70vh;
      background: url('assets/img/perfil.png') top left no-repeat;
      background-size: cover;
      background-color: #0d1117;
      display: flex;
      align-items: center;
      justify-content: flex-start;
      text-align: left;
      position: relative;
      z-index: 1;
      padding: 0 2rem;
    }

    .hero .container {
      max-width: 700px;
      z-index: 2;
      padding-left: 0;
    }

    .hero h1 {
      font-size: 3.5rem;
      font-weight: bold;
      line-height: 1.2;
    }

    .hero h1 span {
      display: inline-block;
      font-size: 2rem;
      font-weight: 400;
    }

    .hero .highlight {
      color: #0d6efd;
    }
    
    .hero .highlight2 {
      color: #ffffff;
    }

    .hero .btn-primary,
    .hero .btn-outline-light {
      font-size: 1.1rem;
      padding: 0.75rem 1.5rem;
      margin-top: 1rem;
      transition: transform 0.3s ease;
    }

    .hero .btn:hover {
      transform: scale(1.05);
    }

    .section-title {
      color: #0d6efd;
      margin-bottom: 1.5rem;
      font-size: 1.75rem;
      font-weight: 600;
    }

    .info-icon {
      font-size: 2rem;
      color: #58a6ff;
    }

    .proyecto {
      background-color: rgba(22, 27, 34, 0.8);
      padding: 1.5rem;
      border-radius: 8px;
      margin-bottom: 1.5rem;
      transition: transform 0.3s ease;
    }

    .proyecto:hover {
      transform: scale(1.03);
    }

    footer {
      background-color: #161b22;
      color: #8b949e;
      padding: 1rem;
      text-align: center;
    }

    .reveal {
      opacity: 0;
      transform: translateY(30px);
      transition: all 0.7s ease;
    }

    .reveal.visible {
      opacity: 1;
      transform: translateY(0);
    }

    #custom-cursor {
      position: fixed;
      width: 12px;
      height: 12px;
      background: #4da6ff;
      border-radius: 50%;
      pointer-events: none;
      transform: translate(-50%, -50%);
      transition: transform 0.1s ease;
      z-index: 9999;
    }

    .typewriter-text {
      color: #0d6efd;
      font-weight: 400;
      display: inline;
    }

    #particles-js {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: #000;
      z-index: 0;
    }

    main, section, .container, .navbar, footer {
      position: relative;
      z-index: 1;
    }
    
    .modal-content {
      background-color: inherit;
      color: inherit;
      border-radius: 0.75rem; /* Slightly more rounded corners */
    }

    /* Styles for highlighted search results */
    mark.resaltado {
      background-color: #ffe600; /* A more pleasant yellow */
      color: #333;
      padding: 0 2px;
      border-radius: 3px;
      animation: highlightFade 2s forwards; /* Fades out the highlight */
    }

    @keyframes highlightFade {
      from { background-color: #ffe600; }
      to { background-color: transparent; }
    }
    
    /* Custom Toast Styling */
    .toast-container {
        position: fixed;
        bottom: 1rem;
        right: 1rem;
        z-index: 1050; /* Above modals */
    }
    .toast {
        background-color: #343a40; /* Dark background */
        color: #c9d1d9; /* Light text */
        border: 1px solid #495057;
        border-radius: 0.5rem;
        padding: 0.75rem 1rem;
        box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
        opacity: 0.95;
    }
    .toast.showing {
        opacity: 0;
    }
    .toast.show {
        opacity: 0.95;
    }
    .toast-header {
        background-color: transparent;
        color: #c9d1d9;
        border-bottom: none;
        padding-bottom: 0.25rem;
        font-weight: 600;
    }
    .toast-body {
        padding-top: 0.25rem;
    }
    /* Light mode toast styling */
    body.light-mode .toast {
        background-color: #f8f9fa; /* Light background */
        color: #212529; /* Dark text */
        border: 1px solid #ced4da;
    }
    body.light-mode .toast-header {
        color: #212529;
    }

    /* Modern Search Modal Enhancements */
    #modalBusqueda .modal-header {
      border-bottom: 1px solid rgba(255, 255, 255, 0.1); /* Subtle border */
    }
    body.light-mode #modalBusqueda .modal-header {
      border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    }

    #busquedaInput {
      /* ANTES: background-color: rgba(255, 255, 255, 0.08); */
      background-color: #1a2027; /* Fondo más sólido para modo oscuro */
      border: 1px solid rgba(255, 255, 255, 0.25); /* Borde un poco más visible */
      color: #c9d1d9;
      padding: 0.75rem 1rem;
      border-radius: 0.5rem;
      transition: all 0.2s ease-in-out;
    }
    #busquedaInput:focus {
      background-color: #0d1117; /* Se mantiene oscuro al enfocar */
      border-color: #58a6ff;
      box-shadow: 0 0 0 0.25rem rgba(88, 166, 255, 0.25);
    }
    body.light-mode #busquedaInput {
      /* ANTES: background-color: rgba(0, 0, 0, 0.05); */
      background-color: #f0f2f5; /* Fondo más sólido para modo claro */
      border: 1px solid rgba(0, 0, 0, 0.25); /* Borde un poco más visible */
      color: #212529;
    }
    body.light-mode #busquedaInput:focus {
      background-color: #ffffff;
      border-color: #0d6efd;
      box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25);
    }

    #sugerencias {
      margin-top: 0.75rem;
      max-height: 250px; /* Limit height and make it scrollable */
      overflow-y: auto;
      border: none; /* Remove default list-group border */
    }

    #sugerencias .list-group-item {
      background-color: transparent; /* Remove background */
      border: none;
      color: #c9d1d9;
      padding: 0.6rem 1rem;
      cursor: pointer;
      transition: background-color 0.2s ease, color 0.2s ease;
      text-align: left; /* Align text to left */
      border-radius: 0.3rem; /* Small border-radius for items */
    }

    #sugerencias .list-group-item:hover,
    #sugerencias .list-group-item:focus {
      background-color: rgba(88, 166, 255, 0.1); /* Subtle hover effect */
      color: #58a6ff;
      outline: none; /* Remove outline on focus */
    }
    body.light-mode #sugerencias .list-group-item:hover,
    body.light-mode #sugerencias .list-group-item:focus {
      background-color: rgba(13, 110, 253, 0.1);
      color: #0d6efd;
    }

    #sugerencias .list-group-item mark {
      background-color: rgba(255, 255, 0, 0.5); /* Highlight color for suggestions */
      padding: 0 2px;
      border-radius: 2px;
    }

    /* Cambio para el modal-content */
    .modal-content {
      /* ANTES: background-color: inherit; */
      background-color: #161b22; /* Un fondo más oscuro y sólido para el modal */
      color: #c9d1d9;
      border-radius: 0.75rem;
    }
    body.light-mode .modal-content {
      background-color: #ffffff; /* Fondo blanco sólido para el modo claro */
      color: #121212;
    }
  </style>
</head>
<body>
  <div id="custom-cursor"></div>
  <div id="particles-js"></div>

  <nav class="navbar navbar-expand-lg">
    <div class="container">
      <a class="navbar-brand" href="#">Misael<span> Marte</span></a>
      <button class="navbar-toggler bg-light" type="button" data-bs-toggle="collapse" data-bs-target="#navMenu">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navMenu">
        <ul class="navbar-nav ms-auto me-3">
          <li class="nav-item"><a class="nav-link" href="#about" data-lang-key="navAbout">About me</a></li>
          <li class="nav-item"><a class="nav-link" href="#projects" data-lang-key="navProjects">Projects</a></li>
          <li class="nav-item"><a class="nav-link" href="#contact" data-lang-key="navContact">Contact</a></li>
        </ul>
        <div class="navbar-icons">
          <i class="fas fa-search" data-bs-toggle="modal" data-bs-target="#modalBusqueda"></i>
          <i id="themeToggle" class="fas fa-moon" style="cursor:pointer;"></i>
          <span id="languageToggle" style="cursor:pointer; font-weight: bold; margin-left: 10px;">ES</span>
        </div>
      </div>
    </div>
  </nav>
    
  <div class="modal fade" id="modalBusqueda" tabindex="-1">
    <div class="modal-dialog modal-md modal-dialog-centered">
      <div class="modal-content text-center">
        <div class="modal-header">
          <h5 class="modal-title" data-lang-key="searchTitle">Search</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <input type="text" id="busquedaInput" class="form-control" placeholder="Search content..." data-lang-placeholder-key="searchPlaceholder">
          <ul id="sugerencias" class="list-group"></ul>
        </div>
      </div>
    </div>
  </div>

  <section class="hero">
    <div class="container">
      <h1 class="highlight2">
        <span id="heroGreetingPrefix" data-lang-key="heroGreetingPrefix">Hello, I'm </span>
        <span class="highlight">Misael Marte</span><br>
        <span id="typewriter" class="typewriter-text"></span>
      </h1>
      <div class="mt-4">
        <a href="#contact" class="btn btn-primary me-2" data-lang-key="heroButtonProject">Got a project?</a>
        <a href="#" class="btn btn-outline-light" data-bs-toggle="modal" data-bs-target="#curriculumModal" data-lang-key="heroButtonCV">My Resume</a>
      </div>
    </div>
  </section>

  <div class="toast-container">
    <div id="searchToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
      <div class="toast-header">
        <strong class="me-auto" data-lang-key="toastHeader">Search Result</strong>
        <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
      </div>
      <div class="toast-body" id="toastMessage">
        </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    // Particles background
    particlesJS("particles-js", {
      particles: {
        number: { value: 80, density: { enable: true, value_area: 800 } },
        color: { value: "#58a6ff" },
        shape: { type: "circle" },
        opacity: { value: 0.3 },
        size: { value: 3 },
        line_linked: { enable: true, distance: 150, color: "#58a6ff", opacity: 0.2, width: 1 },
        move: { enable: true, speed: 1.5 }
      },
      interactivity: {
        events: { onhover: { enable: true, mode: "repulse" } }
      },
      retina_detect: true
    });

    // Scroll Reveal
    document.addEventListener('DOMContentLoaded', () => {
      const reveals = document.querySelectorAll('.reveal');
      const observer = new IntersectionObserver(entries => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('visible');
            observer.unobserve(entry.target);
          }
        });
      }, { threshold: 0.1 });
      reveals.forEach(el => observer.observe(el));
    });

    // Custom cursor
    const cursor = document.getElementById('custom-cursor');
    document.addEventListener('mousemove', e => {
      cursor.style.top = `${e.clientY}px`;
      cursor.style.left = `${e.clientX}px`;
    });

    // Typewriter effect
    const words = {
      en: ["Software Developer", "IT Instructor", "Android Developer", "Freelancer"],
      es: ["Desarrollador de Software", "Docente IT", "Desarrollador Android", "Freelancer"]
    };
    let wordIndex = 0;
    let charIndex = 0;
    const typeTarget = document.getElementById("typewriter");
    let currentLanguage = localStorage.getItem('language') || 'en'; // Get language from localStorage
    let typewriterTimeout; // Variable para almacenar el ID del timeout del efecto de máquina de escribir

    function typeEffect() {
      if (!typeTarget) return;
      const currentWordList = words[currentLanguage];
      const currentWord = currentWordList[wordIndex];
      const partial = currentWord.substring(0, charIndex++);
      typeTarget.textContent = partial;

      if (charIndex > currentWord.length) {
        typewriterTimeout = setTimeout(() => eraseEffect(), 1500);
      } else {
        typewriterTimeout = setTimeout(typeEffect, 100);
      }
    }

    function eraseEffect() {
      const currentWordList = words[currentLanguage];
      const currentWord = currentWordList[wordIndex];
      const partial = currentWord.substring(0, charIndex--);
      typeTarget.textContent = partial;

      if (charIndex === 0) {
        wordIndex = (wordIndex + 1) % currentWordList.length;
        typewriterTimeout = setTimeout(typeEffect, 300);
      } else {
        typewriterTimeout = setTimeout(eraseEffect, 50);
      }
    }

    // Theme Toggle
    document.getElementById('themeToggle').addEventListener('click', e => {
      document.body.classList.toggle('light-mode'); // Changed to light-mode for consistency with CSS
      const isLightMode = document.body.classList.contains('light-mode');
      e.target.classList.remove(isLightMode ? "fa-moon" : "fa-sun");
      e.target.classList.add(isLightMode ? "fa-sun" : "fa-moon");
    });
    
    // Search Functionality
    document.addEventListener('DOMContentLoaded', () => {
      const inputBusqueda = document.getElementById('busquedaInput');
      const modalBusqueda = document.getElementById('modalBusqueda');
      const modal = new bootstrap.Modal(modalBusqueda);
      const sugerenciasLista = document.getElementById("sugerencias");
      let currentHighlightedMatch = null; // Keep track of the currently highlighted match to scroll to

      // Function to show Bootstrap Toast
      function showToast(message) {
        const toastEl = document.getElementById('searchToast');
        const toastBody = toastEl.querySelector('#toastMessage');
        toastBody.textContent = message;
        const toast = new bootstrap.Toast(toastEl, { delay: 3000 }); // 3 seconds delay
        toast.show();
      }

      // Keyboard shortcut Ctrl+F or Cmd+F
      document.addEventListener('keydown', (e) => {
        if ((e.ctrlKey || e.metaKey) && e.key === 'f') {
          e.preventDefault(); // Prevents browser's search
          modal.show();
          setTimeout(() => inputBusqueda.focus(), 300); // Wait for modal to open
        }
      });
      
      // Real-time suggestions - Improved
      inputBusqueda.addEventListener('input', () => {
        const textoBusqueda = inputBusqueda.value.trim();
        sugerenciasLista.innerHTML = ''; // Clear previous suggestions

        if (textoBusqueda.length < 2) { // Require at least 2 characters for suggestions
          return;
        }

        const regex = new RegExp(`(${textoBusqueda})`, 'gi');
        const MAX_SUGGESTIONS = 5;
        let suggestionsCount = 0;
        const seenSuggestions = new Set(); // To avoid duplicate suggestions

        // Iterate over all text nodes in the body (excluding scripts and styles)
        function findTextNodes(node) {
          if (node.nodeType === 3 && node.parentNode && !['SCRIPT', 'STYLE'].includes(node.parentNode.nodeName)) {
            const textContent = node.nodeValue;
            if (regex.test(textContent)) {
              // Extract a contextual snippet around the match
              const matchIndex = textContent.toLowerCase().indexOf(textoBusqueda.toLowerCase());
              const snippetStart = Math.max(0, matchIndex - 30); // 30 chars before
              const snippetEnd = Math.min(textContent.length, matchIndex + textoBusqueda.length + 30); // 30 chars after
              let snippet = textContent.substring(snippetStart, snippetEnd);

              // Add ellipses if snippet is truncated
              if (snippetStart > 0) snippet = '...' + snippet;
              if (snippetEnd < textContent.length) snippet = snippet + '...';

              // Highlight the search term within the snippet for display
              const highlightedSnippet = snippet.replace(regex, '<mark>$1</mark>');

              if (!seenSuggestions.has(highlightedSnippet) && suggestionsCount < MAX_SUGGESTIONS) {
                const li = document.createElement("li");
                li.classList.add("list-group-item", "list-group-item-action");
                li.style.cursor = "pointer";
                li.innerHTML = highlightedSnippet; // Use innerHTML for the mark tag

                li.addEventListener('click', () => {
                  inputBusqueda.value = textoBusqueda; // Set input to the exact search term
                  sugerenciasLista.innerHTML = ''; // Clear suggestions
                  realizarBusqueda(textoBusqueda); // Perform the actual search and highlight
                  modal.hide(); // Close modal after selection
                });
                sugerenciasLista.appendChild(li);
                seenSuggestions.add(highlightedSnippet);
                suggestionsCount++;
              }
            }
          } else if (node.nodeType === 1 && node.childNodes && !['SCRIPT', 'STYLE', 'MARK'].includes(node.nodeName)) {
            node.childNodes.forEach(findTextNodes);
          }
        }
        findTextNodes(document.body);
      });


      // Search on Enter key press
      inputBusqueda.addEventListener('keydown', (e) => {
        if (e.key === 'Enter') {
          e.preventDefault();
          limpiarResaltado(); // Clear previous highlights
          realizarBusqueda(inputBusqueda.value.trim());
        }
      });

      // Clear on modal close
      modalBusqueda.addEventListener('hidden.bs.modal', () => {
        inputBusqueda.value = '';
        sugerenciasLista.innerHTML = '';
        limpiarResaltado();
      });

      // Main search and highlight function - Improved
      function realizarBusqueda(texto) {
        if (!texto) {
          limpiarResaltado(); // Ensure no lingering highlights
          return;
        }

        limpiarResaltado(); // Clear previous highlights before new search

        const regex = new RegExp(`(${texto})`, 'gi');
        let encontrado = false;
        let firstMatchElement = null;

        // Traverse all nodes in the body
        const recorrerNodos = (nodo) => {
          // Check if it's a text node and not inside script/style tags
          if (nodo.nodeType === 3 && nodo.parentNode && !['SCRIPT', 'STYLE'].includes(nodo.parentNode.nodeName)) {
            const parentNode = nodo.parentNode;

            // Only process if the parent is not already a 'mark' element (to avoid nesting highlights)
            if (parentNode.nodeName !== 'MARK') {
              const matches = nodo.nodeValue.match(regex);
              if (matches) {
                encontrado = true;
                const fragment = document.createDocumentFragment();
                let lastIndex = 0;

                // Split text node and insert mark elements
                nodo.nodeValue.replace(regex, (match, p1, offset) => {
                  fragment.appendChild(document.createTextNode(nodo.nodeValue.substring(lastIndex, offset)));
                  const mark = document.createElement('mark');
                  mark.classList.add('resaltado');
                  mark.textContent = match;
                  fragment.appendChild(mark);
                  if (!firstMatchElement) {
                    firstMatchElement = mark; // Capture the first match
                  }
                  lastIndex = offset + match.length;
                  return match; // Return original match for replace function
                });
                fragment.appendChild(document.createTextNode(nodo.nodeValue.substring(lastIndex)));
                parentNode.replaceChild(fragment, nodo);
              }
            }
          } else if (nodo.nodeType === 1 && nodo.childNodes && !['SCRIPT', 'STYLE'].includes(nodo.nodeName)) {
            // Recursively call for element nodes, skipping script/style
            Array.from(nodo.childNodes).forEach(recorrerNodos);
          }
        };

        recorrerNodos(document.body);

        if (encontrado && firstMatchElement) {
          firstMatchElement.scrollIntoView({ behavior: "smooth", block: "center" });
          modal.hide(); // Close the modal if a match is found
        } else {
          showToast(translations[currentLanguage]['alertNotFound'] + `: "${texto}"`);
        }
      }

      // Function to clear all highlights
      function limpiarResaltado() {
        const marcas = document.querySelectorAll('mark.resaltado');
        marcas.forEach(mark => {
          // Replace the <mark> element with its text content
          const textNode = document.createTextNode(mark.textContent);
          mark.parentNode.replaceChild(textNode, mark);
          // Clean up any empty text nodes that might have been created
          mark.parentNode.normalize();
        });
      }
    });

    // Language Toggle
    const translations = {
      en: {
        pageTitle: "Misael Marte – Developer",
        navAbout: "About me",
        navProjects: "Projects",
        navContact: "Contact",
        searchTitle: "Search",
        searchPlaceholder: "Search content...",
        heroGreetingPrefix: "Hello, I'm ",
        heroButtonProject: "Got a project?",
        heroButtonCV: "My Resume",
        aboutTitle: "About me",
        aboutPara1: "I am a developer with a deep passion for creating intuitive and functional user interfaces. My journey into the world of development began driven by curiosity and a strong inclination towards applied logic. Since then, I have developed various applications for personal use, focusing especially on projects that integrate design and development, in both mobile and desktop environments. My goal has always been to build digital experiences that not only look good but also offer high performance and excellent usability.",
        aboutPara2: "I currently work as an instructor in the area of network and IT systems support, in addition to being a Systems Engineer. I have experience as an advanced Java programmer, as well as in developing mobile applications on Android using Kotlin. I master web technologies such as CSS and JavaScript, and I have participated in software projects focused on Medical Centers and mobile sales applications for large companies.",
        aboutPara3: "Outside of my professional life, I enjoy playing the piano, playing softball, and spending quality time with my wife and our three children. I identify as a Pentecostal evangelical Christian, a fundamental part of my life that guides my personal values and principles.",
        webDev: "Web Development",
        responsiveApps: "Responsive Apps",
        hostingDeploy: "Hosting & Deploy",
        projectsTitle: "Projects",
        lisaDominoTitle: "LisaDomino (Notes)",
        lisaDominoDesc: "An essential application for all domino lovers. Designed to enhance your gaming experience, allowing you to fully concentrate on strategy and enjoy every game. Available on Android.",
        download: "Download",
        instantMsgTitle: "InstantMsg",
        instantMsgDesc: "InstantMsg is the application where you can send messages to any number in the world registered on WhatsApp, and if not, it sends an invitation, without the need to save it as a contact. Available on Android.",
        mercaVillaTitle: "MercaVilla",
        mercaVillaDesc: "Web application for selling food and artisanal products, using Bootstrap, HTML5, CSS, Firebase, simple and efficient interface.",
        viewNetlify: "View on Netlify",
        contactTitle: "Contact me",
        emailTitle: "Email",
        emailButton: "Email me on Gmail",
        githubTitle: "GitHub",
        githubButton: "Visit profile",
        linkedinTitle: "LinkedIn",
        linkedinButton: "Connect with me",
        footerText: "&copy; 2025 Misael A. Marte R. Developed with 💙 and Bootstrap.",
        cvModalTitle: "Misael Marte's Resume",
        alertNotFound: "No content found matching",
        toastHeader: "Search Result"

      },
      es: {
        pageTitle: "Misael Marte – Desarrollador",
        navAbout: "Sobre mí",
        navProjects: "Proyectos",
        navContact: "Contacto",
        searchTitle: "Buscar",
        searchPlaceholder: "Buscar contenido...",
        heroGreetingPrefix: "Hola, soy ",
        heroButtonProject: "¿Tienes un proyecto?",
        heroButtonCV: "Mi currículum",
        aboutTitle: "Sobre mí",
        aboutPara1: "Soy un desarrollador con una profunda pasión por crear interfaces de usuario intuitivas y funcionales. Mi camino en el mundo del desarrollo comenzó impulsado por la curiosidad y una marcada inclinación hacia la lógica aplicada. Desde entonces, he desarrollado diversas aplicaciones de uso personal, enfocándome especialmente en aquellos proyectos que integran diseño y desarrollo, tanto en entornos móviles como de escritorio. Mi objetivo siempre ha sido construir experiencias digitales que no solo se vean bien, sino que también ofrezcan un alto rendimiento y una excelente usabilidad.",
        aboutPara2: "Actualmente me desempeño como docente en el área de soporte de redes y sistemas informáticos, además de ser Ingeniero en Sistemas. Cuento con experiencia como programador avanzado en Java, así como en el desarrollo de aplicaciones móviles en Android utilizando Kotlin. Domino tecnologías web como CSS y JavaScript, y he participado en proyectos de software enfocados en Centros Médicos y en aplicaciones móviles de ventas para grandes empresas.",
        aboutPara3: "Fuera del ámbito profesional, disfruto tocar el piano, jugar softball y compartir tiempo de calidad con mi esposa y nuestros tres hij@s. Me identifico como cristiano evangélico pentecostal, una parte fundamental de mi vida que guía mis valores y principios personales.",
        webDev: "Desarrollo Web",
        responsiveApps: "Apps Responsivas",
        hostingDeploy: "Hosting y Deploy",
        projectsTitle: "Proyectos",
        lisaDominoTitle: "LisaDomino (Apuntes)",
        lisaDominoDesc: "Aplicación indispensable para todos los amantes del dominó. Diseñada para mejorar tu experiencia de juego, permitiéndote concentrarte de lleno en la estrategia y disfrutar cada partida. Disponible en Android.",
        download: "Descargar",
        instantMsgTitle: "InstantMsg",
        instantMsgDesc: "InstantMsg es la aplicación en la que podrás enviar mensaje a cualquier número en el mundo que esté registrado en WhatsApp y si no lo está le envía una invitación, pero sin la necesidad de registrarlo como contacto. Disponible en Android.",
        mercaVillaTitle: "MercaVilla",
        mercaVillaDesc: "Aplicación web para ventas de productos comestibles y artesanales, usando Bootstrap, HTML5, CSS, Firebase, Interfaz sencilla y eficiente.",
        viewNetlify: "Ver en Netlify",
        contactTitle: "Contáctame",
        emailTitle: "Correo electrónico",
        emailButton: "Escríbeme en Gmail",
        githubTitle: "GitHub",
        linkedinTitle: "LinkedIn",
        linkedinButton: "Conectemos",
        footerText: "&copy; 2025 Misael A. Marte R. Desarrollado con 💙 y Bootstrap.",
        cvModalTitle: "Currículum de Misael Marte",
        alertNotFound: "No se encontró contenido que coincida con",
        toastHeader: "Resultado de Búsqueda"
      }
    };

    function setLanguage(lang) {
      document.documentElement.lang = lang;
      currentLanguage = lang; // Update global language variable for typewriter effect
      localStorage.setItem('language', lang); // Save preference

      // Update document title
      document.querySelector('title').textContent = translations[lang]['pageTitle'];

      // Update static text content
      document.querySelectorAll('[data-lang-key]').forEach(element => {
        const key = element.dataset.langKey;
        // Specifically handle the hero greeting prefix
        if (element.id === 'heroGreetingPrefix') {
            element.textContent = translations[lang][key];
        } else if (key !== 'heroGreetingPrefix') { // All other elements
            if (translations[lang][key]) {
                element.textContent = translations[lang][key];
            }
        }
      });

      // Update placeholder text
      document.querySelectorAll('[data-lang-placeholder-key]').forEach(element => {
        const key = element.dataset.langPlaceholderKey;
        if (translations[lang][key]) {
          element.placeholder = translations[lang][key];
        }
      });
      
      // Handle HTML content for specific elements like footer
      const footerElement = document.querySelector('footer');
      if (footerElement) {
        footerElement.innerHTML = translations[lang]['footerText'];
      }

      // Re-initialize typewriter effect for new language
      clearTimeout(typewriterTimeout); // Detiene cualquier animación de máquina de escribir en curso
      wordIndex = 0;
      charIndex = 0;
      if (typeTarget) { // Asegúrate de que el elemento existe antes de intentar manipularlo
        typeTarget.textContent = ''; // Limpia el texto actual antes de iniciar la nueva animación
      }
      typeEffect(); // Llama a typeEffect para iniciar la animación con el nuevo idioma
      
      // Update language toggle text
      document.getElementById('languageToggle').textContent = (lang === 'en' ? 'ES' : 'EN');
    }

    // Set initial language based on localStorage or default to English
    document.addEventListener('DOMContentLoaded', () => {
      const savedLang = localStorage.getItem('language') || 'en';
      setLanguage(savedLang); // Esto ahora llamará a typeEffect para el idioma inicial

      document.getElementById('languageToggle').addEventListener('click', () => {
        const newLang = currentLanguage === 'en' ? 'es' : 'en';
        setLanguage(newLang);
      });
    });
  </script>

  <div class="container py-5" id="about">
    <h2 class="section-title" data-lang-key="aboutTitle">About me</h2>
    <p class="mb-4" data-lang-key="aboutPara1">
      I am a developer with a deep passion for creating intuitive and functional user interfaces. My journey into the world of development began driven by curiosity and a strong inclination towards applied logic. Since then, I have developed various applications for personal use, focusing especially on projects that integrate design and development, in both mobile and desktop environments. My goal has always been to build digital experiences that not only look good but also offer high performance and excellent usability.
    </p>
    <p class="mb-4" data-lang-key="aboutPara2">
      I currently work as an instructor in the area of network and IT systems support, in addition to being a Systems Engineer. I have experience as an advanced Java programmer, as well as in developing mobile applications on Android using Kotlin. I master web technologies such as CSS and JavaScript, and I have participated in software projects focused on Medical Centers and mobile sales applications for large companies.
    </p>
    <p data-lang-key="aboutPara3">
      Outside of my professional life, I enjoy playing the piano, playing softball, and spending quality time with my wife and our three children. I identify as a Pentecostal evangelical Christian, a fundamental part of my life that guides my personal values and principles.
    </p>

    <div class="row text-center">
      <div class="col-md-4 mb-3">
        <div class="info-icon">💻</div>
        <h5 class="mt-2" data-lang-key="webDev">Web Development</h5>
      </div>
      <div class="col-md-4 mb-3">
        <div class="info-icon">📱</div>
        <h5 class="mt-2" data-lang-key="responsiveApps">Responsive Apps</h5>
      </div>
      <div class="col-md-4 mb-3">
        <div class="info-icon">☁️</div>
        <h5 class="mt-2" data-lang-key="hostingDeploy">Hosting & Deploy</h5>
      </div>
    </div>
  </div>

  <div class="container py-5" id="projects">
    <h2 class="section-title" data-lang-key="projectsTitle">Projects</h2>
    <div class="row">
        
      <div class="col-md-6">
        <div class="proyecto d-flex flex-column align-items-center text-center">
          <img src="assets/img/logo_domino.png" alt="App 1" class="mb-3" style="width: 80px; height: 80px;">
          <h5 data-lang-key="lisaDominoTitle">LisaDomino (Notes)</h5>
          <p data-lang-key="lisaDominoDesc">
            An essential application for all domino lovers. Designed to enhance your gaming experience, allowing you to fully concentrate on strategy and enjoy every game. Available on Android.
          </p>
          <a href="https://play.google.com/store/apps/details?id=com.mm.lisadomino" class="btn btn-success btn-sm" target="_blank" data-lang-key="download">Download</a>
        </div>
      </div>

      <div class="col-md-6">
        <div class="proyecto d-flex flex-column align-items-center text-center">
          <img src="assets/img/logo_instantMsg.png" alt="App 2" class="mb-3" style="width: 80px; height: 80px;">
          <h5 data-lang-key="instantMsgTitle">InstantMsg</h5>
          <p data-lang-key="instantMsgDesc">
            InstantMsg is the application where you can send messages to any number in the world registered on WhatsApp, and if not, it sends an invitation, without the need to save it as a contact. Available on Android.
          </p>
          <a href="https://play.google.com/store/apps/details?id=com.mm.instantmsg" class="btn btn-success btn-sm" target="_blank" data-lang-key="download">Download</a>
        </div>
      </div>
      
      <div class="col-md-6">
        <div class="proyecto d-flex flex-column align-items-center text-center">
          <img src="assets/img/logo.png" alt="App 2" class="mb-3" style="width: 100px; height: 100px;">
          <h5 data-lang-key="mercaVillaTitle">MercaVilla</h5>
          <p data-lang-key="mercaVillaDesc">
            Web application for selling food and artisanal products, using Bootstrap, HTML5, CSS, Firebase, simple and efficient interface.
          </p>
          <a href="https://mercavilla.netlify.app/" class="btn btn-outline-primary btn-sm" target="_blank" data-lang-key="viewNetlify">View on Netlify</a>
        </div>
      </div>

    </div>
  </div>


  <div class="container py-5" id="contact">
    <h2 class="section-title text-center mb-5" data-lang-key="contactTitle">Contact me</h2>
    <div class="row justify-content-center g-4">

      <div class="col-md-4">
        <div class="card bg-dark border-0 shadow-lg text-center h-100">
          <img src="https://ssl.gstatic.com/ui/v1/icons/mail/rfr/gmail.ico" class="card-img-top p-2" style="max-height:120px; object-fit:contain;" alt="Gmail">
          <div class="card-body">
            <h5 class="card-title mt-2" data-lang-key="emailTitle">Email</h5>
            <p class="card-text">
              <a href="https://mail.google.com/mail/?view=cm&fs=1&to=misaelm293@gmail.com" target="_blank" class="btn btn-outline-info btn-sm" data-lang-key="emailButton">Email me on Gmail</a>
            </p>
          </div>
        </div>
      </div>

      <div class="col-md-4">
        <div class="card bg-dark border-0 shadow-lg h-100">
          <img src="https://opengraph.githubassets.com/1/MisaelM293" class="card-img-top" alt="GitHub Preview">
          <div class="card-body text-center">
            <h5 class="card-title mt-2" data-lang-key="githubTitle">GitHub</h5>
            <a href="https://github.com/MisaelM293" target="_blank" class="btn btn-outline-info btn-sm" data-lang-key="githubButton">Visit profile</a>
          </div>
        </div>
      </div>

      <div class="col-md-4">
        <div class="card bg-dark border-0 shadow-lg h-100">
          <img src="https://cdn-icons-png.flaticon.com/512/174/174857.png" class="card-img-top p-2" style="max-height:120px; object-fit:contain;" alt="LinkedIn">
          <div class="card-body text-center">
            <h5 class="card-title mt-2" data-lang-key="linkedinTitle">LinkedIn</h5>
            <a href="https://www.linkedin.com/in/misael-marte/" target="_blank" class="btn btn-outline-info btn-sm" data-lang-key="linkedinButton">Connect with me</a>
          </div>
        </div>
      </div>

    </div>
  </div>

  <footer>
    &copy; 2025 Misael A. Marte R. Developed with 💙 and Bootstrap.
  </footer>

  <div class="modal fade" id="curriculumModal" tabindex="-1" aria-labelledby="curriculumModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl modal-dialog-centered modal-dialog-scrollable">
      <div class="modal-content bg-dark text-light">
        <div class="modal-header">
          <h5 class="modal-title" id="curriculumModalLabel" data-lang-key="cvModalTitle">Misael Marte's Resume</h5>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body" style="height: 80vh;">
          <iframe src="assets/cv/Misael_Marte_CV.pdf" width="100%" height="100%" style="border:none;"></iframe>
        </div>
      </div>
    </div>
  </div>

</body>
</html>